\chapter{基于百科模板的跨语言属性对齐}
\label{cha:intro}

\section{本章引论}
本章从抽取更多跨语言知识，融合异构百科的角度出发，将工作定位于寻找百度百科与英文维基百科的中英文属性对齐关系。这是一个跨语言、跨异构百科的任务，就我们所知，当前还没有自动抽取百度百科属性信息，并与维基百科知识对齐的工作。

我们的工作面临跨语言与跨异构百科两项挑战，对于前者，因为维基百科与百度百科相互独立，在词条、分类乃至信息框属性方面，并没有这两个百科现成的跨语言链接，如果能增加两者的关联信息，跨语言对齐的研究将会更加得心应手。好在维基百科有多语言特性，我们可以通过现有的中英文维基中已有的人工编辑的跨语言信息作为桥梁，连接英文维基与百度百科。


\section{异构百科的模板与属性分析}
\label{sec:template-property-analysis}

另一个挑战则是来自于维基百科与百度百科的异构性

\subsection{词条数量不平衡}

维基百科是目前全球最大的百科数据库，目前支持228个语言，被世界各地的编辑者编写并完善词条。因语言使用者的差异、维基在各国的受欢迎程度等多种原因，英文维基词条与信息框数量远超其他语言，信息量很不对称。仅拿中英文来说，如图xx所示，截止到2016年2月，中文维基词条约为xxx，英文维基词条约为xxx，是中文维基的xx倍。

再来看百度百科，百度百科作为目前中国最大的开放式网络百科全书，收录了许多特色词条，因为参与编辑的人数多，编辑方式相对自由等原因，信息也更为全面。截止到2016年1月已收录词条超过1,313万条，远超过维基百科的中文词条数量。

不同百科规模的不一致体现出xxxx

\subsection{信息框数量差异大}

信息框是一个词条的脸面，它包含了该词条的基本的、重要的信息，读者通过阅读信息框，就可以了解关于词条大部分重要内容。信息框一般以属性－属性值的键值对形式排列在表格中。图xx为词条“xxx”在中英文维基百科中的信息框与百度百科中的“名片”。三个百科中的信息各有异同，如果能融合，对知识的补全有很大贡献。

不过并非所有的词条都有名片。有些新编辑词条，可能来不及创建信息框；有些内容较短的词条，也不需要特别使用信息框汇总重要信息。图xx展示了各百科中拥有信息框的词条的数量，如果我们充分利用三个百科之间的关系，比如通过百度百科的信息框补全中文维基信息框、利用中文维基与英文维基的对齐关系找到英文维基与百度百科的对齐关系等，就可以实现中英文知识的进一步融合。

\subsection{模板差异}

各个百科鼓励编辑者使用模板对词条以及信息框进行组织与编辑。模板是百科针对不同主题的词条内容所列出的标准结构框架，类似于长期积累形成的标准写作规范。模板使词条的结构变得有规律可循，也可以有效避免关键信息的缺失。信息框的编辑也可模板化，比如百度百科中，人物使用“人物通用模板”，维基百科中，电影使用“Template:电影信息框”。与此同时，用户在模板信息项之外，可自行添加自定义属性，丰富信息框内容，使其个性化。

利用模板信息，我们可以获得丰富的属性集合以及属性与领域的对照关系。理想情况下，只要能找到跨语言下的异构百科中模板的对应关系，我们就能找到相关的属性的对齐关系，达到跨语言、跨领域属性对齐的目标。但是实际上，这个过程存在诸多阻碍：

1.  百度百科的数据来源于网页，模板不公开。百度百科数据用于商业用途，没有像维基百科一样公开数据，因此百度百科数据的获取多来源于网络爬虫。虽然网页涵盖了词条的几乎所有内容，但并不包含编辑信息，比如模板的使用。因此我们只能获得百度百科的属性集合，并依赖进一步的研究方法，猜测模板内容。

2.  维基百科虽然对外提供模板定义与信息框信息，但数据却差强人意。具体来说，维基所提供的数据文件中，词条信息框的内容是以模板标签来组织的，而模板标签与真正展示在网页上的显示标签不同。模板标签与显示标签的关系在对应语言的信息框模板词条下有定义。举例来说，电影“xx”的导演为exxx，这条信息在“”词条中的数据文件中是“director =xxx”，而在网页中的显示是“导演：”，其中，director为模板标签，导演为显示标签，而两种标签的对应关系，在词条“Template：电影信息框”中有所说明。维基百科的这种设计，使模板属性在不同语言上有了标准规范。对于任意一个语言，在设计自己的电影信息框模板时，只需根据模板标签，给出对应的显示标签即可，对多语言百科来说，不失为一种好方法。但是间接获得显示标签，也对模板的获取增加了难度，而人为设计的不规范性，又雪上加霜。

3.  异构百科定义的schema不同，给对齐增加了难度。姑且不说中英文差异，单是中文维基与百度百科，在对统一领域的词条的描述上，命名规范与侧重点都不尽相同。以完成度较高的电影领域模板为例，图xx显示了电影“xxx”的信息框对比，他们分别使用了中文维基的“Template：电影信息框”与百度百科的电影模板。可以看到，在对“出品或制作影片的公司”的属性表示上，中文维基使用“制片商”，百度百科使用“出品公司”作为该属性的标签。可见属性的多义性。另一方面中文维基常有“旁白”、“配乐”等百度百科不使用的属性，百度百科常有“imdb编码”等维基模板中没有的属性，可见模板的缺失性。若想尽可能保留属性集合的完整度，保证准确度，我们需要处理属性多义与模板缺失问题。

4.  自定义属性xxx

模板的差异，无论是对前期的属性抽取，还是对之后的属性对齐工作，都带来了更多的挑战，但这也表明异构百科下属性的使用，确实有值得探究之处。我们可以通过寻找同一种属性在异构百科下的不同表达方式，寻找相似属性名称；融合多个百科的属性集合，获得领域下更全面的属性集合，制成通用模板。

总的来说，属性抽取与属性对齐的最大挑战来源于数据的凌乱、不规整，第xxx章会对数据进行描述，并详尽的介绍数据抽取与清理的方法与过程。

\section{问题描述}

\section{基于百科模板的跨语言属性对齐}
\label{sec:property-matching}

本章致力于解决领域属性模板生成以及领域（模板）下跨语言属性的对齐，通过对数据的了解，我们意识到，解决这两个问题的过程中，还会遇到合并同义属性等诸多问题。

本任务获得的领域下的属性模板，可以避免人工构建模板，有助于增加信息框的有意信息，查漏补缺，另一方面，获得属性同义表达方式，可以为融合其他百科信息做铺垫。属性模板的构成、属性的分布、属性的命名，在一定程度上都可以对用户行为分析、文本分析做贡献。比如一个实体的关键信息都有什么、用户一般关注什么重点信息、人们多属性的常用称呼都有什么等等。一旦拥有属性模板，我们可以用自动化的方法，从文本中抽取相应的信息，自动构建词条信息框。［引用］［］［］中都在已知属性集合的基础上，对缺失属性进行填充。

图xx为整个本章任务的流程图，根据之前所提出的问题，主要分为属性抽取、跨语言对齐种子集合生成、百度百科领域模板生成、同语言相似属性合并、跨语言属性对齐五大模块。

属性抽取：因为百科数据杂乱，数据抽取的工作繁琐但至关重要，这部分结果的好坏，在很大程度上影响着后面几个步骤的准确率，抽取数量越多有利于增加初始跨语言集合的种子，过多杂质的引入会增加之后工作的难度，降低准确率。这一部分，我们对维基百科的模板规则进行了细致的观察与总结，利用规则尽可能多地获得维基百科的模板与属性。百度百科的数据从网页上获得，没有模板与跨语言信息，抽取较为简单，本文不做赘述。

跨语言种子集合：维基百科与百度百科这两个异构百科没有直接的关联关系，但我们可以以中文维基百科为桥梁，并利用维基的跨语言特性，找到百度百科与中英文维基百科的联系。如图xx所示，信息框属性，在维基百科中，不像分类与词条一样含有显性的语言链接，不能直接获取，但我们依然可以通过信息框模板与词条链接等现有关系，抽取出正确的属性跨语言对齐关系。另一方面，通过分析同语言百科，获得对齐的中文属性集合。两两融合后，我们可以获得英文维基－中文维基－百度百科的属性对齐关系，形成跨语言种子集合。

百度百科领域模板生成：针对百度百科没有信息框模板这一问题，我们根据属性词频与共现率，提出领域模板生成模型，旨在模拟出与给出维基模板对应的领域与领域属性集合，从而形成领域模板。领域属性集合，可作为今后编写信息框的参照，同时可看作属性对齐的候选集，大大减小了计算空间。

相似属性合并

跨语言属性对齐

\subsection{属性抽取}
\label{sec:property-extraction}

显示标签的抽取

针对维基百科中页面上显示的信息框属性标签与dump 文件中存储的信息框属性标签不一致问题，我们利用维基百科的信息框模板，获得存储标签与显示标签的对应关系。

通过观察与实践，总结出信息框模板有以下特点：

1.  信息框模板的标题通常以Template:Infobox开头，但也有例外，尤其在中文维基中，类似“Template:电影信息框”的本地化标题很多，想通过Template:Infobox来区分并不容易。但信息框模板的源代码中含有一个infobox，该infobox包含模板属性定义，因此我们可以认为带有infobox信息的Template为信息框模板；

2.  显示标签与存储标签在infobox中以

Label=显示标签
Data=存储标签
的格式存在。一个模板中，显示标签与存储标签的关系可能是一对一、一对多、多对多的，即一个属性根据不同的存储标签，可能会显示不同的标签在 页面上。

3.  有的信息框模板以表格的形式对属性进行编排，抽取方法与2不同，可以参照表格行列的抽取

4.  有半数左右的模板存在继承关系，即其存储标签的表示含义与父类模板相同，标签对应关系要结合父类模板来挖掘

5.  维基百科经过多次整理与更新，会将相似模板合并，或重新定义模板名称，被删除的模板会重定向到新模板上。2016年2月的中文维基上，Template:Infobox Film与Template:Infobox film都重定向到“Template: 电影信息框”。

在抽取过程中模板被分为其他模板与信息框模板，其中信息框模板被分为四类，分别包括：标准信息框模板、继承模板、表格模板以及重定向模板。对2016.03版本的英文维基与2016.02版本的中文维基分别抽取，得到各类型信息框模板数量如表\ref{tab:infobox-template}所示

\begin{table}[htb]
  \centering
  \caption 各类型信息框模板数量
  \label{tab:infobox-template}
  \begin{minipage}[t]{0.8\textwidth} % 如果想在表格中使用脚注，minipage是个不错的办法
    \begin{tabularx}{\linewidth}{X|X|X|X|X|}
      {\heiti 维基百科} & {\heiti \#标准信息框模板} & {\heiti \#继承模板} & {\heiti \#表格模板} & {\heiti \#重定向模板} \\\midrule[1pt]
      英文维基 & 1 & 1 & 1 & 1 \\
      中文维基 & 1 & 1 & 1 & 1 \\
      \bottomrule[1.5pt]
    \end{tabularx}
  \end{minipage}
\end{table}

抽取出的显示标签结果如表\ref{tab:render-label}所示，其中模板覆盖率为抽取出的模板数量与所有词条使用的全部模板数量的占比，模板-属性覆盖率为所有抽取出的模板-属性对所有词条的所有属性数量的占比，词条覆盖率为能用抽取模板分析的词条的百分比。

\begin{table}[htb]
  \centering
  \caption 显示标签抽取结果
  \label{tab:render-label}
  \begin{minipage}[t]{0.8\textwidth} % 如果想在表格中使用脚注，minipage是个不错的办法
    \begin{tabularx}{\linewidth}{X|X|X|X|X|X|}
      {\heiti 维基百科} & {\heiti \#含有属性的模板} & {\heiti 模板覆盖率} & {\heiti \#模板-属性} & {\heiti 模板-属性覆盖率}  & {\heiti 词条覆盖率} \\\midrule[1pt]
      英文维基 & 1 & 1 & 1 & 1 & 1 \\
      中文维基 & 1 & 1 & 1 & 1 & 1 \\
      \bottomrule[1.5pt]
    \end{tabularx}
  \end{minipage}
\end{table}

\subsection{跨语言属性种子集合}
\label{sec:cross-lingual-seed}

\subsection{领域模板生成}
\label{sec:domain-template}

\subsection{同语言相似属性合并}
\label{sec:similar-property}

\subsection{跨语言属性对齐}
\label{cross-lingual-property-matching}

\section{本章小结}

